!function(){function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return t}()({1:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../factory")),s=r(o),a=t("../../mirror/node"),u=r(a),c=null,l=function(){var t=function(t){var e=this.escape(t.option.bracket[0]),n=this.escape(t.option.bracket[1]),r=this.escape(t.option.unsafeBracket[0]),i=this.escape(t.option.unsafeBracket[1]);this.regexp=new RegExp(r+"((?:.|\\n)+?)"+i+"|"+e+"((?:.|\\n)+?)"+n,"g")},e=t.prototype;return e.escape=function(t){return t.replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&")},e.check=function(t){return this.regexp.lastIndex=0,this.regexp.test(t)},e.tokenize=function(t){var e=void 0,n=[],r=0;for(this.regexp.lastIndex=0;null!==(e=this.regexp.exec(t));)r!==e.index&&n.push({key:null,value:t.slice(r,e.index)}),e[1]?n.push({key:e[1],escape:!0}):n.push({key:e[2],escape:!1}),r=this.regexp.lastIndex;return r<t.length&&n.push({key:null,value:t.slice(r)}),n},t}(),h={compiled:function(){var t=this;this.tokens=c.tokenize(this.el.nodeValue),this.el.nodeValue="",this.tokens.forEach(function(e){e.node=document.createTextNode(""),e.key||(e.node.nodeValue=e.value),t.el.parentNode.insertBefore(e.node,t.el),t.mirror.parent.children.push(new u["default"](e.node,t.mirror.parent))}),this.update()},created:function(){var t=this;this.update(),this.tokens.forEach(function(e){e.key&&t.subscribe(e.key,function(){t.update()})})},update:function(){for(var t=this,e=0;e<this.el.parentNode.childNodes.length;)"uid"in this.el.parentNode.childNodes[e]?this.el.parentNode.removeChild(this.el.parentNode.childNodes[e]):e++;this.tokens.forEach(function(e){if(e.key)if(e.escape){var n=document.createDocumentFragment();t.fetch(e.key,function(t){var e=document.createElement("div");for(e.innerHTML=void 0!==t?t:"";e.childNodes.length>0;)e.childNodes[0].uid=1,n.appendChild(e.childNodes[0])}),e.node.parentNode.insertBefore(n,e.node)}else t.fetch(e.key,function(t){e.node.nodeValue=t})})}},d={compiled:function(){this.attrSet=[];for(var t=0;t<this.el.attributes.length;t++){var e=this.el.attributes[t].name,n=this.el.attributes[t].value;if(c.check(n)){var r=c.tokenize(n),i={name:e,tokens:r};this.update(i),this.attrSet.push(i)}}},merged:function(t){this.attrSet=t.attrSet},created:function(){var t=this;this.attrSet.forEach(function(e){e.tokens.forEach(function(n){n.key&&t.subscribe(n.key,function(n){t.update(e)}),t.update(e)})})},update:function(t){var e=this,n="";t.tokens.forEach(function(t){t.key?e.fetch(t.key,function(t){n+=void 0!==t?t:""}):n+=t.value}),this.el.setAttribute(t.name,n)}};s["default"].instance.register(s["default"].TYPE_TEXT,function(t){return null===c&&(c=new l(t.app)),c.check(t.node.nodeValue)},h),s["default"].instance.register(s["default"].TYPE_COMMENT,function(t){return null===c&&(c=new l(t.app)),c.check(t.node.nodeValue)},h),s["default"].instance.register(s["default"].TYPE_ATTR,function(t){null===c&&(c=new l(t.app));for(var e=0;e<t.node.attributes.length;e++)if(c.check(t.node.attributes[e].value))return!0;return!1},d)},{"../../mirror/node":38,"../../util/index":48,"../factory":15}],2:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o);s["default"].attr("debounce",{created:function(){var t=this;this.timer=null,this.delays={},this.attr.debounce.split(" ").forEach(function(e){e.match(/^([a-zA-Z]+):([0-9]+)$/)&&(t.delays[RegExp.$1]=RegExp.$2)}),this.pipe("../"+this.attr.name,function(e,n){if(clearTimeout(t.timer),n&&n.type in t.delays){var r=t.delays[n.type];return new Promise(function(n,i){t.timer=setTimeout(function(){n(e)},r)})}})},destroy:function(){clearTimeout(this.timer)}})},{"../../util/index":48,"../index":16}],3:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("../factory"),a=(r(s),t("../index")),u=r(a),c=t("../../mirror/node"),l=r(c);u["default"].attr("each",{compiled:function(){var t=this;this.mold=this.el.innerHTML,this.el.innerHTML="",this.fetch(this.attr.each,function(e){t.render(e)})},created:function(){var t=this;this.observe(this.attr.each,function(e){t.render(e),t.mirror.start(!0),e&&o["default"].isArray(e)&&e.forEach(function(e,n){for(var r in e)t.notify(t.attr.each+"/"+n+"/"+r,e[r])})})},merged:function(t){this.mold=t.mold},render:function(t){if(t&&o["default"].isArray(t)){var e=this.mirror.children.length,n=t.length;if(e!==n)if(n>e)for(var r=e;r<n;r++){var i=document.createElement(this.el.tagName);i.innerHTML=this.mold;var s=i.firstElementChild;if(s){s.nodeType==Node.ELEMENT_NODE&&s.setAttribute("eq",this.attr.each+"/"+r),this.el.appendChild(s);var a=new l["default"](s,this.mirror);this.mirror.children.push(a),a.compile(!0)}}else for(var u=0,c=0;u<this.mirror.children.length;c++)u<n?u++:(this.el.removeChild(this.mirror.children[u].node),this.mirror.children[u].destructor(),this.mirror.children.splice(u,1),this.close(this.attr.each+"/"+c))}}})},{"../../mirror/node":38,"../../util/index":48,"../factory":15,"../index":16}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o);s["default"].attr("hide",{created:function(){var t=this;this.isHide=void 0,this.placer=document.createTextNode(""),this.update(this.fetch(this.attr.hide)),this.subscribe(this.attr.hide,function(e){t.update(e)})},update:function(t){var e=!!t;this.isHide!==e&&(this.isHide=e,this.isHide?this.el.parentNode&&this.el.parentNode.replaceChild(this.placer,this.el):this.placer.parentNode&&this.placer.parentNode.replaceChild(this.el,this.placer))}})},{"../../util/index":48,"../index":16}],5:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("../../util/index"),c=r(u),l=t("../index"),h=r(l),d=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.created=function(){var t=this;this.name="../"+this.attr.name,this.$dirty=!1,this.$pristine=!0,this.on("change",function(e){t.change()}),this.observe(this.name,function(e){t.update(e)}),this.observe("reset",function(e){t.reset()}),this.value&&c["default"].nextTick(function(){t.change()})},e.prototype.update=function(t){this.value=t,void 0!==t&&(this.$dirty=!0,this.$pristine=!1)},e.prototype.change=function(){this.$dirty=!0,this.$pristine=!1,this.notify(this.name,this.value)},e.prototype.reset=function(){this.value=void 0,this.$dirty=!1,this.$pristine=!0,this.notify(this.name,this.value)},a(e,[{key:"value",get:function(){return this.el.value?this.el.value:""},set:function(t){this.el.value=t}}]),e}(h["default"]),f=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.created=function(){var e=this;t.prototype.created.call(this),this.on("keydown",function(){c["default"].nextTick(function(){e.change()})})},e}(d),p=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e}(d),m=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.created=function(){var e=this;t.prototype.created.call(this),this.attr.each&&this.observe(this.attr.each,function(){e.optionChanged()})},e.prototype.optionChanged=function(){var t=this;c["default"].nextTick(function(){t.fetch(t.name,function(e){t.update(e)})})},e}(d),v=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),a(e,[{key:"value",get:function(){return this.el.checked?this.el.value:void 0},set:function(t){void 0!==t&&(t===this.el.value?this.el.checked=!0:this.el.checked=!1)}}]),e}(d),y=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return s(e,t),a(e,[{key:"value",get:function(){return this.el.checked?this.el.value:void 0},set:function(t){void 0!==t&&t===this.el.value&&(this.el.checked=!0)}}]),e}(d);h["default"].tag("textarea",f),h["default"].sel("input[type=tel]",f),h["default"].sel("input[type=url]",f),h["default"].sel("input[type=text]",f),h["default"].sel("input[type=email]",f),h["default"].sel("input[type=search]",f),h["default"].sel("input[type=number]",f),h["default"].sel("input[type=password]",f),h["default"].sel("input[type=radio]",v),h["default"].sel("input[type=checkbox]",y),h["default"].sel("input[type=hidden]",p),h["default"].sel("select",m)},{"../../util/index":48,"../index":16}],6:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o),a=t("../factory");r(a);s["default"].attr("name",{created:function(){this.namespace=this.mirror.namespace},updateAttr:function(t,e,n){var r=this.mirror.namespace;r!==this.namespace&&(this.close(this.namespace),this.namespace=r)}})},{"../../util/index":48,"../factory":15,"../index":16}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("../index"),a=r(s),u=t("../parser/factory"),c=r(u);t("../parser/trim"),t("../parser/alpha"),t("../parser/alnum"),t("../parser/numeric"),t("../parser/maxlength"),a["default"].attr("parser",{priority:1e3,parsers:{},created:function(){var t=this;this.name="../"+this.attr.name,this.attr.parser.split(" ").forEach(function(e){if(e.match(/([^: ]+)(?:\:([^ ]*))?/)){var n=RegExp.$1,r=RegExp.$2;t.parsers[n]=c["default"].create(t,n,r),t.parsers[n].created()}}),this.pipe(this.name,function(e){if(o["default"].isString(e)){var n=e;for(var r in t.parsers)n=t.parsers[r].parse(n);return n!==e&&"INPUT"===t.el.tagName&&(t.el.value=n,t.notify(t.name,n)),n}})},destroy:function(){for(var t in this.parsers)this.parsers[t].destroy()}})},{"../../util/index":48,"../index":16,"../parser/alnum":18,"../parser/alpha":19,"../parser/factory":20,"../parser/maxlength":21,"../parser/numeric":22,"../parser/trim":23}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("../index"),a=r(s);a["default"].attr("save-local",{created:function(){var t=this,e=this.mirror.namespace+"/value",n=localStorage.getItem(e);n&&("radio"===this.el.type||"checkbox"===this.el.type?this.el.value===n&&(this.el.checked=!0):this.el.value=n,o["default"].nextTick(function(){t.notify("value",n)})),this.subscribe("value",function(t){void 0!==t&&null!==t&&""!==t?localStorage.setItem(e,t):(localStorage.setItem(e,""),localStorage.removeItem(e))}),this.subscribe("reset",function(){localStorage.setItem(e,""),localStorage.removeItem(e)})}})},{"../../util/index":48,"../index":16}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("../index"),a=r(s);a["default"].attr("save-session",{created:function(){var t=this,e=this.mirror.namespace+"/value",n=sessionStorage.getItem(e);n&&("radio"===this.el.type||"checkbox"===this.el.type?this.el.value===n&&(this.el.checked=!0):this.el.value=n,o["default"].nextTick(function(){t.notify("value",n)})),this.subscribe("value",function(t){void 0!==t&&null!==t&&""!==t?sessionStorage.setItem(e,t):(sessionStorage.setItem(e,""),sessionStorage.removeItem(e))}),this.subscribe("reset",function(){sessionStorage.setItem(e,""),sessionStorage.removeItem(e)})}})},{"../../util/index":48,"../index":16}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o);s["default"].attr("show-equal",{created:function(){var t=this;if(this.isShow=void 0,this.placer=document.createTextNode(""),this.attr["show-equal"].split(" ").forEach(function(t){t.match(/([^: ]+)(?:\:([^ ]*))?/)}),this.attr["show-equal"].match(/([^: ]+)(?:\:([^ ]*))?/)){var e=RegExp.$1,n=RegExp.$2;this.update(this.fetch(e),n),this.subscribe(e,function(e){t.update(e,n)})}},update:function(t,e){var n=t==e;this.isShow!==n&&(this.isShow=n,this.isShow?this.placer.parentNode&&this.placer.parentNode.replaceChild(this.el,this.placer):this.el.parentNode&&this.el.parentNode.replaceChild(this.placer,this.el))}})},{"../../util/index":48,"../index":16}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o);s["default"].attr("show-every",{created:function(){var t=this;this.isShow=void 0,this.placer=document.createTextNode(""),this.checks=this.attr["show-every"].split(" ").map(function(t){if(t)return{name:t,show:void 0}}),this.checks.forEach(function(e){e.show=t.fetch(e.name),t.update(),t.subscribe(e.name,function(n){e.show=!!n,t.update()})})},update:function(t,e){var n=this.checks.every(function(t){return t.show});this.isShow!==n&&(this.isShow=n,this.isShow?this.placer.parentNode&&this.placer.parentNode.replaceChild(this.el,this.placer):this.el.parentNode&&this.el.parentNode.replaceChild(this.placer,this.el))}})},{"../../util/index":48,"../index":16}],12:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o);s["default"].attr("show-some",{created:function(){var t=this;this.isShow=void 0,this.placer=document.createTextNode(""),this.checks=this.attr["show-some"].split(" ").map(function(t){if(t)return{name:t,show:void 0}}),this.checks.forEach(function(e){e.show=t.fetch(e.name),t.update(),t.subscribe(e.name,function(n){e.show=!!n,t.update()})})},update:function(t,e){var n=this.checks.some(function(t){return t.show});this.isShow!==n&&(this.isShow=n,this.isShow?this.placer.parentNode&&this.placer.parentNode.replaceChild(this.el,this.placer):this.el.parentNode&&this.el.parentNode.replaceChild(this.placer,this.el))}})},{"../../util/index":48,"../index":16}],13:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("../index")),s=r(o);s["default"].attr("show",{created:function(){var t=this;this.isShow=void 0,this.observe(this.attr.show,function(e){t.update(e)})},update:function(t){var e=!!t;this.isShow!==e&&(this.isShow=e,this.isShow?$(this.el).removeClass("canopus-hidden"):$(this.el).addClass("canopus-hidden"))}})},{"../../util/index":48,"../index":16}],14:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("../index"),a=r(s),u=t("../validator/factory"),c=r(u);t("../validator/required"),t("../validator/alpha"),t("../validator/alnum"),t("../validator/number"),t("../validator/email"),t("../validator/match"),t("../validator/min-length"),t("../validator/max-length"),t("../validator/min-value"),t("../validator/max-value"),a["default"].attr("validation",{rules:{},$error:{},$valid:void 0,$invalid:void 0,$hasError:!1,created:function(){var t=this;this.name="../"+this.attr.name,this.attr.validation.split(" ").forEach(function(e){if(e.match(/([^: ]+)(?:\:([^ ]*))?/)){var n=RegExp.$1,r=RegExp.$2;t.rules[n]=c["default"].create(t,n,r),t.rules[n].created(t),t.$error[n]=void 0}}),this.subscribe(this.name,function(e){t.run(e)}),this.subscribe("validate",function(){var e=t.fetch(t.name)||"";t.notify(t.name,e)}),this.on("reset",function(e){t.$valid=void 0,t.$invalid=void 0;for(var n in t.$error)t.$error[n]=void 0})},destroy:function(){for(var t in this.rules)this.rules[t].destroy()},run:function(t){var e=this,n=[],r=function(r){var i=e.rules[r].run(t,e);o["default"].isThenable(i)?n.push(new Promise(function(t,n){i.then(function(){e.$error[r]=!1,t(!0)},function(){e.$error[r]=!0,t(!1)})})):i?(e.$error[r]=!1,n.push(!0)):(e.$error[r]=!0,n.push(!1))};for(var i in this.rules)r(i);Promise.all(n).then(function(t){e.$valid=t.every(function(t){return!!t}),e.$invalid=!e.$valid,e.$hasError=e.$invalid&&e.fetch("dirty")})}})},{"../../util/index":48,"../index":16,"../validator/alnum":25,"../validator/alpha":26,"../validator/email":27,"../validator/factory":28,"../validator/match":29,"../validator/max-length":30,"../validator/max-value":31,"../validator/min-length":32,"../validator/min-value":33,"../validator/number":34,"../validator/required":35}],15:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../util/index"),a=r(s),u=t("./index"),c=r(u),l=Symbol(),h=Symbol(),d=Symbol(),f=function(){function t(e){if(i(this,t),e!==h)throw"Cannot construct ComponentFactory";this.tagPrefix=[""],this.attrPrefix=["","x","data"],this.sequence=0,this.registered={}}return o(t,null,[{key:"instance",get:function(){return this[l]||(this[l]=new t(h)),this[l]}},{key:"TYPE_TAG",get:function(){return"T"}},{key:"TYPE_ATTR",get:function(){return"A"}},{key:"TYPE_SEL",get:function(){return"S"}},{key:"TYPE_TEXT",get:function(){return"X"}},{key:"TYPE_COMMENT",get:function(){return"C"}},{key:"NOT_MATCHED",get:function(){return d}}]),t.prototype.addPrefix=function(t){a["default"].isArray(t)?(this.tagPrefix=this.tagPrefix.concat(t),this.attrPrefix=this.attrPrefix.concat(t)):a["default"].isString(t)&&(this.tagPrefix.push(t),this.attrPrefix.push(t))},t.prototype.register=function(t,e,n){if(void 0===this.registered[t]&&(this.registered[t]=new Map),a["default"].isObject(n)){var r=(++this.sequence).toString(),i=function(t,e){a["default"].extend(this,n),c["default"].apply(this,arguments)};i.prototype=Object.create(c["default"].prototype),i.prototype.constructor=i,this.registered[t].set(r,{type:t,expression:e,constructor:i})}if(a["default"].isFunction(n)&&a["default"].isFunction(n.constructor)){var o=(++this.sequence).toString();this.registered[t].set(o,{type:t,expression:e,constructor:n})}},t.prototype.matched=function e(n){var r=this,e={};return n.node.nodeType===Node.ELEMENT_NODE&&this.registered[t.TYPE_TAG].forEach(function(i,o){if(a["default"].isString(i.expression))for(var s=0;s<r.tagPrefix.length;s++){var u=n.node.tagName.toLowerCase(),c=((""!==r.tagPrefix[s]?r.tagPrefix[s]+":":"")+i.expression).toLowerCase(),l=((""!==r.tagPrefix[s]?r.tagPrefix[s]+"-":"")+i.expression).toLowerCase();u!==c&&u!==l||(e[o]=t.TYPE_TAG)}}),n.node.nodeType===Node.ELEMENT_NODE&&this.registered[t.TYPE_ATTR].forEach(function(i,o){if(a["default"].isString(i.expression))for(var s=0;s<r.attrPrefix.length;s++){var u=(""!==r.attrPrefix[s]?r.attrPrefix[s]+"-":"")+i.expression;n.node.hasAttribute(u)&&(e[o]=t.TYPE_ATTR)}else a["default"].isFunction(i.expression)&&i.expression(n)&&(e[o]=t.TYPE_ATTR)}),n.node.nodeType===Node.ELEMENT_NODE&&this.registered[t.TYPE_SEL].forEach(function(r,i){a["default"].isString(r.expression)&&a["default"].matches(n.node,r.expression)&&(e[i]=t.TYPE_SEL)}),n.node.nodeType===Node.TEXT_NODE&&this.registered[t.TYPE_TEXT].forEach(function(r,i){a["default"].isFunction(r.expression)&&r.expression(n)&&(e[i]=t.TYPE_TEXT)}),n.node.nodeType===Node.COMMENT_NODE&&this.registered[t.TYPE_COMMENT].forEach(function(r,i){a["default"].isFunction(r.expression)&&r.expression(n)&&(e[i]=t.TYPE_COMMENT)}),e},t.prototype.create=function(t){var e=this.matched(t),n={};for(var r in e){var i=e[r],o=this.registered[i].get(r).constructor;n[r]=new o(t)}return n},t.prototype.update=function(t){var e=this.matched(t);for(var n in t.components)n in e||(t.components[n].destrcutor(),delete t.components[n]);for(var r in e)if(r in t.components);else{var i=e[r],o=this.registered[i].get(r).constructor;t.components[r]=new o(t)}return t.components},t}();n["default"]=f},{"../util/index":48,"./index":16}],16:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../util/index"),a=r(s),u=t("./factory"),c=r(u),l=function(){function t(e){i(this,t),this.mirror=e,this.__events={},this.__compiled=!1,this.__started=!1,this.__streams={subscribe:[],observe:[],pipe:[],error:[]}}return t.addPrefix=function(t){c["default"].instance.addPrefix(t)},t.tag=function(t,e){c["default"].instance.register(c["default"].TYPE_TAG,t,e)},t.attr=function(t,e){c["default"].instance.register(c["default"].TYPE_ATTR,t,e)},t.sel=function(t,e){c["default"].instance.register(c["default"].TYPE_SEL,t,e)},t.register=function(t,e,n){c["default"].instance.register(t,e,n)},t.prototype.destructor=function(){try{if(this.__started){this.destroy();for(var t in this.__events)this.el.removeEventListener?this.el.removeEventListener(t,this.__events[t].handler,!1):this.el.detachEvent(t,this.__events[t].handler);for(var e in this.__streams)for(var n=0;n<this.__streams[e].length;n++)this.close(this.__streams[e][n].path,this.__streams[e][n].callback)}}catch(r){console.log(r)}this.mirror=null},t.prototype.__compile=function(){if(this.__compiled)return!1;this.__compiled=!0;try{if(this.el.nodeType===Node.ELEMENT_NODE&&a["default"].isString(this.template))if(this.replace){var t=document.createElement("div");t.innerHTML=this.template.replace(/<transclude><\/transclude>/g,this.el.innerHTML);for(var e=0;e<this.el.attributes.length;e++){var n=this.el.attributes[e].name,r=this.el.attributes[e].value;t.firstChild.setAttribute(n,r)}this.mirror.replaceNode(t.firstChild)}else this.el.innerHTML=this.template.replace(/<transclude><\/transclude>/g,this.el.innerHTML);this.compiled()}catch(i){console.log(i)}return!0},t.prototype.__start=function(){if(this.__started)return!1;this.__started=!0;try{this.created();for(var t in this)this.hasOwnProperty(t)&&t.match(/^\$(.+)/)&&this.__observe(this,RegExp.$1)}catch(e){console.log(e)}return!0},t.prototype.on=function(t,e,n){var r=this;a["default"].isString(t)&&t.split(" ").forEach(function(t){""!==t&&(a["default"].isString(e)&&a["default"].isFunction(n)?r.__on(t,e,n):a["default"].isFunction(e)&&r.__on(t,"",e))})},t.prototype.__on=function(t,e,n){var r=this;t in this.__events||(this.__events[t]={handler:function(e){var n=e.target||event.srcElement,i=function(i){if(""===i)r.__events[t].callbacks[i].forEach(function(t){t(e)});else{var o=function s(t,e){return t!==document&&(t===e||s(t.parentNode,e))};r.__events[t].callbacks[i].forEach(function(t){Array.prototype.forEach.call(r.el.querySelectorAll(i),function(r){o(n,r)&&t(e)})})}};for(var o in r.__events[t].callbacks)i(o)},callbacks:{}},this.el.addEventListener?this.el.addEventListener(t,this.__events[t].handler,!1):this.el.attachEvent(t,this.__events[t].handler)),e in this.__events[t].callbacks?this.__events[t].callbacks[e].push(n):this.__events[t].callbacks[e]=[n]},t.prototype.fetch=function(t,e){return this.mirror.fetch(t,e)},t.prototype.subscribe=function(t,e){var n=this.mirror.name2path(t);return this.__streams.subscribe.push({path:n,callback:e}),this.mirror.subscribe(n,e)},t.prototype.observe=function(t,e){var n=this.mirror.name2path(t);return this.__streams.observe.push({path:n,callback:e}),this.mirror.observe(n,e)},t.prototype.pipe=function(t,e){var n=this.mirror.name2path(t);return this.__streams.pipe.push({path:n,callback:e}),this.mirror.pipe(n,e)},t.prototype.error=function(t,e){var n=this.mirror.name2path(t);return this.__streams.error.push({path:n,callback:e}),this.mirror.error(n,e)},t.prototype.notify=function(t,e,n){return this.mirror.notify(t,e,n)},t.prototype.close=function(t,e){return this.mirror.close(t,e)},t.prototype.compiled=function(){},t.prototype.created=function(){},t.prototype.merged=function(t){},t.prototype.updateAttr=function(t,e,n){},t.prototype.destroy=function(){},t.prototype.__observe=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null,o=null;if(r?(i=e,o=r+"/"+e):(i="$"+e,o=e),a["default"].isObject(t[i]))for(var s in t[i])this.__observe(t[i],s,o);else{var u=t[i];Object.defineProperty(t,i,{get:function(){return u},set:function(t){u=t,n.notify(o,t)}}),t[i]=u}},o(t,[{key:"app",get:function(){return this.mirror.app}},{key:"el",get:function(){return this.mirror.node}},{key:"attr",get:function(){for(var t=this,e={},n=function(n){var r=t.el.attributes[n].name,i=t.el.attributes[n].value;e[r]=i,c["default"].instance.attrPrefix.forEach(function(t){0===r.indexOf(t+"-")&&(e[r.split(t+"-")[1]]=i)})},r=0;r<this.el.attributes.length;r++)n(r);return e}},{key:"alive",get:function(){return!!this.mirror}}]),t}();n["default"]=l},{"../util/index":48,"./factory":15}],17:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("./factory"),s=r(o),a=function(){function t(e,n){i(this,t),this.component=e,this.arg=n}return t.regist=function(t,e){s["default"].regist(t,e)},t.prototype.created=function(){},t.prototype.destroy=function(){},t.prototype.parse=function(t,e){return t},t}();n["default"]=a},{"./factory":20}],18:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("./factory")),s=r(o);s["default"].regist("alnum",{parse:function(t){return t.replace(/[ａ-ｚＡ-Ｚ０-９]/g,function(t){return String.fromCharCode(parseInt(t.charCodeAt(0))-65248)}).replace(/[^a-zA-Z0-9]+/g,"")}})},{"../../util/index":48,"./factory":20}],19:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("./factory")),s=r(o);s["default"].regist("alpha",{parse:function(t,e){return t.replace(/[ａ-ｚＡ-Ｚ]/g,function(t){return String.fromCharCode(parseInt(t.charCodeAt(0))-65248)}).replace(/[^a-zA-Z]+/g,"")}})},{"../../util/index":48,"./factory":20}],20:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("../../util/index"),o=r(i),s=t("./abstract"),a=r(s);n["default"]={registered:{},regist:function(t,e){if(o["default"].isObject(e)){var n=function(){o["default"].extend(this,e),a["default"].apply(this,arguments)};n.prototype=Object.create(a["default"].prototype),n.prototype.constructor=n,this.registered[t]=n}o["default"].isFunction(e)&&o["default"].isFunction(e.constructor)&&(this.registered[t]=e)},create:function(t,e,n){if(e in this.registered)return new this.registered[e](t,n);throw new Error("Parser:"+e+" is not registered.")}}},{"../../util/index":48,"./abstract":17}],21:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("./factory")),s=r(o);s["default"].regist("maxLength",{parse:function(t,e){return t.length>parseInt(this.arg)?t.slice(0,parseInt(this.arg)):t}})},{"../../util/index":48,"./factory":20}],22:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=(r(i),t("./factory")),s=r(o);s["default"].regist("numeric",{parse:function(t,e){return t.replace(/[０-９]/g,function(t){return String.fromCharCode(parseInt(t.charCodeAt(0))-65248)}).replace(/[^0-9]+/g,"")}})},{"../../util/index":48,"./factory":20}],23:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("trim",{parse:function(t,e){return o["default"].trim(t)}})},{"../../util/index":48,"./factory":20}],24:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("./factory"),s=r(o),a=function(){function t(e,n){i(this,t),this.component=e,this.arg=n}return t.regist=function(t,e){s["default"].regist(t,e)},t.prototype.created=function(){},t.prototype.destroy=function(){},t.prototype.run=function(t){return!0},t}();n["default"]=a},{"./factory":28}],25:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("alnum",{run:function(t){return o["default"].isString(t)&&/^[a-zA-Z0-9\.]+|^$/.test(t)}})},{"../../util/index":48,"./factory":28}],26:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("alpha",{run:function(t){return o["default"].isString(t)&&/^[a-zA-Z]+|^$/.test(t)}})},{"../../util/index":48,"./factory":28}],27:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("email",{run:function(t){return o["default"].isString(t)&&/^[a-zA-Z0-9.!#$%&\'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$|^$/.test(t)}})},{"../../util/index":48,"./factory":28}],28:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("../../util/index"),o=r(i),s=t("./abstract"),a=r(s);n["default"]={registered:{},regist:function(t,e){if(o["default"].isObject(e)){var n=function(){o["default"].extend(this,e),a["default"].apply(this,arguments)};n.prototype=Object.create(a["default"].prototype),n.prototype.constructor=n,this.registered[t]=n}o["default"].isFunction(e)&&o["default"].isFunction(e.constructor)&&(this.registered[t]=e)},create:function(t,e,n){if(e in this.registered)return new this.registered[e](t,n);throw new Error("Validator:"+e+" is not registered.")}}},{"../../util/index":48,"./abstract":24}],29:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("./factory"),o=r(i);o["default"].regist("match",{compare:void 0,created:function(){var t=this;this.component.subscribe(this.arg,function(e){t.compare=e,t.component.run(t.component.fetch("../"+t.component.attr.name))})},run:function(t){return t===this.compare}})},{"./factory":28}],30:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("maxLength",{run:function(t){return!o["default"].isString(t)||o["default"].trim(t).length<=parseInt(this.arg)}})},{"../../util/index":48,"./factory":28}],31:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("./factory"),o=r(i);o["default"].regist("maxValue",{run:function(t){return void 0===t||null===t||""===t||parseFloat(t)<=parseFloat(this.arg)}})},{"./factory":28}],32:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("minLength",{run:function(t){return!o["default"].isString(t)||o["default"].trim(t).length>=parseInt(this.arg);
}})},{"../../util/index":48,"./factory":28}],33:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("./factory"),o=r(i);o["default"].regist("minValue",{run:function(t){return void 0===t||null===t||""===t||parseFloat(t)>=parseFloat(this.arg)}})},{"./factory":28}],34:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("number",{run:function(t){return void 0===t||null===t||""===t||o["default"].isString(t)&&/^[0-9\.]+$|^$/.test(t)}})},{"../../util/index":48,"./factory":28}],35:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=t("../../util/index"),o=r(i),s=t("./factory"),a=r(s);a["default"].regist("required",{run:function(t){return o["default"].isString(t)&&""!==o["default"].trim(t)}})},{"../../util/index":48,"./factory":28}],36:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../util/index"),s=r(o),a=t("../router/index"),u=r(a),c=t("../stream/index"),l=r(c),h=t("../component/index"),d=r(h),f=t("../mirror/tree"),p=r(f),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.option=s["default"].option(e,{auto:!1,prefix:[],bracket:["{{","}}"],unsafeBracket:["{{{","}}}"]}),d["default"].addPrefix(this.option.prefix),this.root=document.documentElement,this.tree=null,this.stream=new l["default"],this.option.auto&&(this.router=new u["default"])}return t.tag=function(t,e){d["default"].tag(t,e)},t.attr=function(t,e){d["default"].attr(t,e)},t.sel=function(t,e){d["default"].sel(t,e)},t.prototype.start=function(){null===this.tree?(this.tree=new p["default"](this,this.root),this.router&&this.router.start()):this.tree.update(),this.tree.start()},t.prototype.render=function(t){var e=new p["default"](this,t);this.tree.merge(e),e.destructor()},t.prototype.fetch=function(t,e){return this.stream.fetch(t,e)},t.prototype.subscribe=function(t,e){return this.stream.subscribe(t,e)},t.prototype.observe=function(t,e){return this.stream.observe(t,e)},t.prototype.pipe=function(t,e){return this.stream.pipe(t,e)},t.prototype.error=function(t,e){return this.stream.error(t,e)},t.prototype.notify=function(t,e,n){return this.stream.notify(t,e,n)},t.prototype.close=function(t){return this.stream.close(t)},t}();n["default"]=m},{"../component/index":16,"../mirror/tree":39,"../router/index":40,"../stream/index":43,"../util/index":48}],37:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("./core/app"),o=r(i),s=t("./util/index"),a=r(s),u=t("./util/http"),c=r(u),l=t("./router/index"),h=r(l),d=t("./component/index"),f=r(d),p=t("./component/parser/abstract"),m=r(p),v=t("./component/validator/abstract"),y=r(v);t("./component/built-in/name"),t("./component/built-in/bracket"),t("./component/built-in/input"),t("./component/built-in/each"),t("./component/built-in/show"),t("./component/built-in/show-some"),t("./component/built-in/show-every"),t("./component/built-in/show-equal"),t("./component/built-in/hide"),t("./component/built-in/parser"),t("./component/built-in/debounce"),t("./component/built-in/validation"),t("./component/built-in/save-local"),t("./component/built-in/save-session");var g=o["default"];g.Util=a["default"],g.Http=c["default"],g.Router=h["default"],g.Parser=m["default"],g.Component=f["default"],g.Validator=y["default"],n["default"]=g,window.Canopus=g},{"./component/built-in/bracket":1,"./component/built-in/debounce":2,"./component/built-in/each":3,"./component/built-in/hide":4,"./component/built-in/input":5,"./component/built-in/name":6,"./component/built-in/parser":7,"./component/built-in/save-local":8,"./component/built-in/save-session":9,"./component/built-in/show":13,"./component/built-in/show-equal":10,"./component/built-in/show-every":11,"./component/built-in/show-some":12,"./component/built-in/validation":14,"./component/index":16,"./component/parser/abstract":17,"./component/validator/abstract":24,"./core/app":36,"./router/index":40,"./util/http":47,"./util/index":48}],38:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../util/index"),a=(r(s),t("../component/factory")),u=r(a),c=function(){function t(e,n){i(this,t),this.node=e,this.parent=n,this.children=[],this.components=null,this.ignoreChild=e.nodeType!==Node.ELEMENT_NODE||e.hasAttribute("ignore-child"),this.compile(!1)}return t.prototype.destructor=function(){if(null!==this.node){for(var t in this.components)this.components[t].destructor();this.children.forEach(function(t){t.destructor()}),this.node=null,this.parent=null,this.children=null,this.components=null}},t.prototype.compile=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===this.components&&(this.components=u["default"].instance.create(this));for(var e in this.components)this.components[e].__compile();for(var n=0;n<this.children.length;)null===this.children[n].node||this.children[n].node.parentNode!==this.node?(this.children[n].destructor(),this.children.splice(n,1)):n++;for(var r=0;r<this.node.childNodes.length;r++)this.nodeInserted(this.node.childNodes[r],!1);t&&this.children.forEach(function(t){t.compile(!0)})},t.prototype.start=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.components)this.components[e].__start();t&&this.children.forEach(function(t){t.start(!0)})},t.prototype.replaceNode=function(t){this.node.parentNode.replaceChild(t,this.node),this.node=t},t.prototype.has=function(e){if(e){if(e instanceof t)return e.parent===this;for(var n=0;n<this.children.length;n++)if(e===this.children[n].node)return!0}return!1},t.prototype.nodeInserted=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ignoreChild&&!this.has(e)){for(var r=new t(e,this),i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]===r.node){this.children.splice(i,0,r);break}n&&r.start(!0)}},t.prototype.nodeRemoved=function(t){for(var e=0;e<this.children.length;)this.children[e].node===t?(this.children[e].destructor(),this.children.splice(e,1)):e++},t.prototype.attrChanged=function(t,e,n){for(var r in this.components)this.components[r].updateAttr(t,e,n)},t.prototype.fetch=function(t,e){return this.app.stream.fetch(this.name2path(t),e)},t.prototype.subscribe=function(t,e){return this.app.stream.subscribe(this.name2path(t),e)},t.prototype.observe=function(t,e){return this.app.stream.observe(this.name2path(t),e)},t.prototype.pipe=function(t,e){return this.app.stream.pipe(this.name2path(t),e)},t.prototype.error=function(t,e){return this.app.stream.error(this.name2path(t),e)},t.prototype.notify=function(t,e,n){return this.app.stream.notify(this.name2path(t),e,n)},t.prototype.close=function(t,e){return this.app.stream.close(this.name2path(t),e)},t.prototype.name2path=function(t){if(0===t.indexOf("/"))return t;for(var e=t.split("/"),n=this.namespace.split("/");e.length>0;){var r=e.shift();""===r||"."===r||(".."===r?n.pop():n.push(r))}return""!==n[0]?"/"+n.join("/"):n.join("/")},t.prototype.merge=function(t){return this.node.nodeType!==t.node.nodeType?this.parent.replaceChild(t,this):t.node.nodeType!==Node.ELEMENT_NODE?this.parent.replaceChild(t,this):this.node.tagName!==t.node.tagName?this.parent.replaceChild(t,this):(this.mergeAttr(t),this.mergeComponents(t),void this.mergeChildren(t))},t.prototype.mergeAttr=function(t){for(var e=0;e<this.node.attributes.length;){var n=this.node.attributes[e].name;t.node.hasAttribute(n)?e++:this.node.removeAttribute(n)}for(var r=0;r<t.node.attributes.length;r++){var i=t.node.attributes[r].name,o=this.node.hasAttribute(i),s=this.node.getAttribute(i),a=t.node.attributes[r].value;s!==a&&this.node.setAttribute(i,a),o&&s!==a&&this.attrChanged(i,a,s)}},t.prototype.mergeComponents=function(t){for(var e in this.components)e in t.components||(this.components[e].destructor(),delete this.components[e]);for(var n in t.components)n in this.components?this.components[n].merged(t.components[n]):(this.components[n]=t.components[n],this.components[n].mirror=this)},t.prototype.triggerMerged=function(t){setTimeout(function(){for(var e in t.components)t.components[e].merged()});for(var e=0;e<t.children.length;e++)this.triggerMerged(t.children[e])},t.prototype.mergeChildren=function(e){var n=this.node.hasAttribute("ignore-merge");if(n)for(var r=0;r<this.children.length;r++)this.triggerMerged(this.children[r]);else{for(var i=0;i<this.node.childNodes.length;)this.has(this.node.childNodes[i])?i++:this.node.removeChild(this.node.childNodes[i]);for(var o=this.children[0],s=0;s<this.children.length;s++)this.children[s]._original=!0,this.children[s]._replaced=!1;for(;e.children.length>0;){for(var a=e.children.shift(),u=-1,c=-1,l=0;l<this.children.length;l++)if(this.children[l]._original&&!this.children[l]._replaced){var h=t.matchPoint(this.children[l].node,a.node);h>u&&(u=h,c=l)}if(c!==-1){var d=this.children[c];if(d._replaced=!0,d===o)o=o.nextSibling;else{o?this.node.insertBefore(d.node,o.node):this.node.appendChild(d.node);for(var f=this.children.splice(c,1),p=0;p<this.children.length;p++)if(this.children[p]===o){this.children.splice(p,0,f[0]);break}}d.merge(a)}else{if(o){if(o.node.parentNode===this.node){this.node.insertBefore(a.node,o.node);for(var m=0;m<this.children.length;m++)if(this.children[m]===o){this.children.splice(m,0,a);break}}}else this.node.appendChild(a.node),this.children.push(a);a.parent=this}}for(var v=0;v<this.children.length;)this.children[v]._original&&!this.children[v]._replaced?(this.children[v].node&&(this.children[v].node.parentNode&&this.children[v].node.parentNode.removeChild(this.children[v].node),this.children[v].destructor()),this.children.splice(v,1)):(delete this.children[v]._original,delete this.children[v]._replaced,v++)}},t.prototype.replaceChild=function(t,e){for(var n=0;n<this.children.length;n++)if(this.children[n].node===e.node){for(var r in e.components)e.components[r].destructor();e.children.forEach(function(t){t.destructor()}),this.children[n].replaceNode(t.node),this.children[n]=t,this.children[n].parent=this;for(var i in t.components)t.components[i].mirror=this.children[n];return}},t.matchPoint=function(t,e){if(t.nodeType!==e.nodeType)return-1;if(t.nodeType===Node.ELEMENT_NODE){if(t.tagName!==e.tagName)return-1;if(t.outerHTML===e.outerHTML)return 1e4;var n=0;switch(t.tagName){case"HEAD":case"BODY":case"MAIN":case"TITLE":n=1e3;break;case"HEADER":case"FOOTER":case"ARTICLE":case"NAV":n=100;break;default:n=0}t.innerHTML===e.innerHTML&&(n+=100);for(var r=0;r<t.attributes.length;r++)e.hasAttribute(t.attributes[r].name)&&(n+=1,e.getAttribute(t.attributes[r].name)===t.attributes[r].value&&(n+="id"===t.attributes[r].name?1e3:"name"===t.attributes[r].name?1e3:"eq"===t.attributes[r].name?1e3:10));return n}return t.nodeType===Node.TEXT_NODE?t.nodeValue===e.nodeValue?1e4:-1:t.nodeType===Node.COMMENT_NODE&&t.nodeValue===e.nodeValue?1e4:-1},o(t,[{key:"app",get:function(){return this.tree.app}},{key:"tree",get:function(){return this.root}},{key:"root",get:function(){return this.parent instanceof t?this.parent.root:this.parent}},{key:"nextSibling",get:function(){if(this.parent instanceof t)for(var e=0;e<this.parent.children.length-1;e++)if(this.parent.children[e].node===this.node)return this.parent.children[e+1];return null}},{key:"namespace",get:function(){if(this.parent instanceof t){if(this.node.nodeType===Node.ELEMENT_NODE){var e=[];if(this.node.hasAttribute("name")&&e.push(this.node.getAttribute("name")),this.node.hasAttribute("eq")&&e.push(this.node.getAttribute("eq")),e.length>0)return this.parent.namespace+"/"+e.join("/")}return this.parent.namespace}return""}}]),t}();n["default"]=c},{"../component/factory":15,"../util/index":48}],39:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../util/index"),s=r(o),a=t("./node"),u=r(a),c=function(){function t(e,n){if(i(this,t),this.app=e,this.root=null,s["default"].isString(n))this.root=s["default"].parseHTML(n);else{if(!(n instanceof HTMLElement))throw new Error("");this.root=n}this.mirror=new u["default"](this.root,this)}return t.prototype.destructor=function(){this.mirror.destructor(),this.app=null,this.root=null,this.mirror=null},t.prototype.start=function(){this.mirror.start(!0)},t.prototype.update=function(){this.mirror.compile(!0)},t.prototype.merge=function(t){this.mirror.merge(t.mirror),this.mirror.compile(!0),this.mirror.start(!0)},t.prototype.__fromString=function(t){var e=document.implementation.createHTMLDocument("doc");if(t.match(/<html(.*?)>/)){var n=null,r=/([^= ]+)(?:=["'](.*?)["'])?/g,i=RegExp.$1;for(e.documentElement.innerHTML=t;null!==(n=r.exec(i));)e.documentElement.setAttribute(n[1],n[2]);return e.documentElement}var o=e.createRange();return o.selectNodeContents(e.documentElement),o.deleteContents(),e.documentElement.appendChild(o.createContextualFragment(t)),e.documentElement.firstChild},t}();n["default"]=c},{"../util/index":48,"./node":38}],40:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../util/index"),a=r(s),u=t("../util/event"),c=(r(u),t("./route")),l=r(c),h=function(){function t(e){i(this,t),this.option=a["default"].option(e,{root:"/",mode:t.MODE_HTML5,backIfError:!0}),this.routes=new Map,this.elseRoute=new l["default"],this.globalRoute=new l["default"],this.currentPath=location.pathname,this.currentRoute=null,this.hasHistoryAPI="function"==typeof window.history.pushState&&"onpopstate"in window,this.useHTML5=this.option.mode===t.MODE_HTML5&&this.hasHistoryAPI,this.reason=null}return t.prototype.start=function(){var t=this;this.useHTML5?window.addEventListener("popstate",function(e){var n=e.state?e.state.path:location.pathname;"error"!==t.reason&&t.__pageChange(n,"popstate"),t.reason=null}):window.addEventListener("hashchange",function(e){var n=location.hash.match("#(.+)")?RegExp.$1:"/",r=t.reason?t.reason:"popstate";"error"!==t.reason&&t.__pageChange(n,r,t.extra),t.extra=null,t.reason=null})},t.prototype.route=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.routes.has(t)||this.routes.set(t,new l["default"](t,e)),this.routes.get(t)},t.prototype["else"]=function(t){return a["default"].isFunction(t)&&this.elseRoute.on(t),this.elseRoute},t.prototype.before=function(t){return this.globalRoute.before(t),this},t.prototype.on=function(t){return this.globalRoute.on(t),this},t.prototype.after=function(t){return this.globalRoute.after(t),this},t.prototype.unload=function(t){return this.globalRoute.unload(t),this},t.prototype.error=function(t){return this.globalRoute.error(t),this},t.prototype.go=function(t,e){return this.hasHistoryAPI?(history.pushState({path:t},null,t),this.__pageChange(t,"go",e)):(this.reason="go",this.extra=e,location.hash=t),this},t.prototype.replace=function(t,e){return this.hasHistoryAPI?(history.replaceState({path:t},null,t),this.__pageChange(t,"replace",e)):(this.reason="replace",this.extra=e,location.hash=t),this},t.prototype.find=function(t){var e=-1,n=null;return this.routes.forEach(function(r){var i=r.match(t);i>0&&i>=e&&(e=i,n=r)}),n},t.prototype.is=function(t){var e=new l["default"](t);return!!e.match(this.currentPath)&&e},t.prototype.__pageChange=function(t,e,n){var r=this;this.current;var i=this.find(t),o={toPath:t,fromPath:this.currentPath,reason:e,extra:n},s=function(t){return i&&i.__has(t)?i:r.elseRoute};Promise.resolve().then(function(){return Promise.all([r.globalRoute.__call("unload",o),r.current.__call("unload",o)])}).then(function(){return Promise.all([r.globalRoute.__call("before",o),s("before").__call("before",o)])}).then(function(){return Promise.all([r.globalRoute.__call("main",o),s("main").__call("main",o)])}).then(function(){return Promise.all([r.globalRoute.__call("after",o),s("after").__call("after",o)])}).then(function(){r.currentPath=t,i?r.currentRoute=i:r.currentRoute=r.elseRoute})["catch"](function(t){t!==l["default"].SYMBOL_PREVENTED&&(r.globalRoute.__error(t),s("error").__error(t)),t&&r.option.backIfError&&(r.reason="error",history.back())})},o(t,[{key:"current",get:function(){return null===this.currentRoute&&(this.currentRoute=this.find(this.currentPath)||this.elseRoute),this.currentRoute}}],[{key:"MODE_HTML5",get:function(){return"html5"}},{key:"MODE_HASH",get:function(){return"hash"}}]),t}();n["default"]=h},{"../util/event":46,"../util/index":48,"./route":42}],41:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../util/index"),s=r(o),a=function(){function t(e){i(this,t),this.original=e,this.params={},s["default"].isString(e)?this.segments=e.split("/"):this.segments=null}return t.prototype.match=function(t){var e=t.split("/"),n=1;if(this.params={},null===this.segments)return 0;if(this.segments.length!==e.length)return 0;for(var r=0;r<this.segments.length;r++)if(this.segments[r]===e[r])n+=10;else if(this.segments[r].match(/^:(.+)$/)){if(""===e[r])return 0;n+=3,this.params[RegExp.$1]=e[r]}else if(this.segments[r].match(/^\((.+)\)$/))if(e[r]===RegExp.$1)n+=10;else{if(""!==e[r])return 0;n+=2}else{if("*"!==this.segments[r])return 0;n+=1}return n},t}();n["default"]=a},{"../util/index":48}],42:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../util/index"),a=r(s),u=t("../util/event"),c=r(u),l=t("./parser"),h=r(l),d=Symbol(),f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t),this.original=e,this.parser=new h["default"](e),this.mainCallbacks=[],this.beforeCallbacks=[],this.afterCallbacks=[],this.unloadCallbacks=[],this.errorCallbacks=[],this.on(n)}return t.prototype.match=function(t,e){var n=this.parser.match(t);return a["default"].isFunction(e)?void(n>0&&e(this.parser.params)):n>0},t.prototype.on=function(t){return a["default"].isFunction(t)&&this.mainCallbacks.push(t),this},t.prototype.before=function(t){return a["default"].isFunction(t)&&this.beforeCallbacks.push(t),this},t.prototype.after=function(t){return a["default"].isFunction(t)&&this.afterCallbacks.push(t),this},t.prototype.unload=function(t){return a["default"].isFunction(t)&&this.unloadCallbacks.push(t),this},t.prototype.error=function(t){return a["default"].isFunction(t)&&this.errorCallbacks.push(t),this},t.prototype.__has=function(t){switch(t){case"before":return this.beforeCallbacks.length>0;case"after":return this.afterCallbacks.length>0;case"unload":return this.unloadCallbacks.length>0;default:return this.mainCallbacks.length>0}},t.prototype.__call=function(t,e){var n=this,r=[],i=void 0;switch(t){case"before":i=this.beforeCallbacks;break;case"after":i=this.afterCallbacks;break;case"unload":i=this.unloadCallbacks;break;default:i=this.mainCallbacks}return i.forEach(function(t){var i=new Promise(function(r,i){var o=new c["default"]({path:e.toPath,from:e.fromPath,reason:e.reason,params:n.parser.params,extra:e.extra}),s=t(o);s===!1||o.prevented?i(d):s&&a["default"].isFunction(s.then)?(s.then(function(t){r(t)}),s["catch"](function(t){i(t)})):r(s)});r.push(i)}),Promise.all(r)},t.prototype.__error=function(t){this.errorCallbacks.forEach(function(e){e(t)})},o(t,[{key:"params",get:function(){return this.parser.params}}],[{key:"SYMBOL_PREVENTED",get:function(){return d}}]),t}();n["default"]=f},{"../util/event":46,"../util/index":48,"./parser":41}],43:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("./subject"),s=r(o),a=function(){function t(){i(this,t),this.root=new s["default"]("/",null)}return t.prototype.fetch=function(t,e){return this.root.fetch(t,e)},t.prototype.subscribe=function(t,e){return this.root.subscribe(t,e)},t.prototype.observe=function(t,e){return this.root.observe(t,e)},t.prototype.pipe=function(t,e){return this.root.pipe(t,e)},t.prototype.error=function(t,e){return this.root.error(t,e)},t.prototype.notify=function(t,e,n){return this.root.notify(t,e,n)},t.prototype.close=function(t,e){return this.root.close(t,e)},t}();n["default"]=a},{"./subject":45}],44:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../util/index"),s=r(o),a=Symbol(),u=Symbol(),c=function(){function t(){i(this,t),this.callbacks=[],this.pipes=[],this.errors=[],this.value=u}return t.prototype.destructor=function(){this.pipes=null,this.errors=null,this.callbacks=null},t.prototype.hasAny=function(){return this.callbacks.length>0||this.pipes.length>0||this.errors.length>0},t.prototype.fetch=function(t){return s["default"].isFunction(t)?void(this.value!==u&&this.value!==a&&t(this.value)):this.value!==u&&this.value!==a?this.value:void 0},t.prototype.addCallback=function(t){s["default"].isFunction(t)&&this.callbacks.push(t)},t.prototype.addObserver=function(t){s["default"].isFunction(t)&&(this.callbacks.push(t),this.value!==u&&t(this.value))},t.prototype.addPipe=function(t){s["default"].isFunction(t)&&this.pipes.push(t)},t.prototype.addError=function(t){s["default"].isFunction(t)&&this.errors.push(t)},t.prototype.remove=function(t){if(s["default"].isFunction(t)){for(var e=0;e<this.callbacks.length;)this.callbacks[e]===t?this.callbacks.splice(e,1):e++;for(var n=0;n<this.pipes.length;)this.pipes[n]===t?this.pipes.splice(n,1):n++;for(var r=0;r<this.errors.length;)this.errors[r]===t?this.errors.splice(r,1):r++}},t.prototype.update=function(t,e){var n=this,r=Promise.resolve(t);this.value=t,r=this.promiseChain(r,this.pipes,e),r=this.promiseChain(r,this.callbacks,e),r.then(function(t){t!==a&&(n.value=t)})},t.prototype.promiseChain=function(t,e,n){var r=this;return e.reduce(function(t,e){return t.then(function(t){if(t===a)return a;var r=e(t,n);return void 0===r?t:r},function(t){return r.errors.forEach(function(e){e(t,n)}),a})},t)},t}();n["default"]=c},{"../util/index":48}],45:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("../util/index"),s=r(o),a=t("./observer"),u=r(a),c=function(){function t(e,n){i(this,t),this.name=e,this.observer=new u["default"],this.parent=n,this.children={}}return t.prototype.destructor=function(){this.observer.destructor();for(var t in this.children)this.children[t].destructor();this.name=null,this.parent=null,this.observer=null,this.children=null},t.prototype.appendChild=function(e){return e in this.children||(this.children[e]=new t(e,this)),this.children[e]},t.prototype.removeChild=function(t){t in this.children&&(this.children[t].destructor(),delete this.children[t])},t.prototype.fetch=function(t,e){var n=t.split("/").slice(1),r=n.shift(),i=this.appendChild(r),o="/"+n.join("/");return n.length>0?i.fetch(o,e):i.observer.fetch(e)},t.prototype.subscribe=function(t,e){var n=t.split("/").slice(1),r=n.shift(),i=this.appendChild(r),o="/"+n.join("/");return n.length>0?i.subscribe(o,e):i.observer.addCallback(e)},t.prototype.observe=function(t,e){var n=t.split("/").slice(1),r=n.shift(),i=this.appendChild(r),o="/"+n.join("/");return n.length>0?i.observe(o,e):i.observer.addObserver(e)},t.prototype.pipe=function(t,e){var n=t.split("/").slice(1),r=n.shift(),i=this.appendChild(r),o="/"+n.join("/");return n.length>0?i.pipe(o,e):i.observer.addPipe(e)},t.prototype.error=function(t,e){var n=t.split("/").slice(1),r=n.shift(),i=this.appendChild(r),o="/"+n.join("/");return n.length>0?i.error(o,e):i.observer.addError(e)},t.prototype.notify=function(t,e,n){var r=t.split("/").slice(1),i=r.shift(),o=this.appendChild(i),a="/"+r.join("/");if(r.length>0)o.notify(a,e,n);else{if(o.observer&&o.observer.update(e,n),s["default"].isObject(e))for(var u in e)e.hasOwnProperty(u)&&o.notify("/"+u,e[u],n);if(s["default"].isArray(e))for(var c=0;c<e.length;c++)o.notify("/"+c,e[c],n)}},t.prototype.close=function(t,e){var n=t.split("/").slice(1),r=n.shift(),i="/"+n.join("/");r in this.children&&(n.length>0?this.children[r].close(i,e):e?this.children[r].observer.remove(e):this.removeChild(r))},t}();n["default"]=c},{"../util/index":48,"./observer":44}],46:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=t("./index"),s=r(o),a=function(){function t(e){if(i(this,t),this.prevented=!1,s["default"].isObject(e))for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])}return t.prototype.preventDefault=function(){this.prevented=!0},t}();n["default"]=a},{"./index":48}],47:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("./index"),o=r(i),s=t("./random"),a=r(s);n["default"]={get:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(0!==r.status&&(200<=r.status&&r.status<300||304==r.status)?e(r.responseText):n(new Error(r.status)))},r.withCredentials=!0,r.open("GET",t),r.send()})},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(0!==i.status&&(200<=i.status&&i.status<300||304==i.status)?n(i.responseText):r({status:i.status,response:i.responseText}))},i.withCredentials=!0,i.open("POST",t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(e.body)})},jsonp:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=o["default"].option(r,{timeout:5e3}),new Promise(function(i,s){function u(){c(),s(new Error("408 Request Timeout")),window[l]=function(){delete window[l]}}function c(){h.parentNode&&h.parentNode.removeChild(h)}var l="callback"+a["default"].instance.uid(20),h=document.createElement("script"),d=null;window[l]=function(t){clearTimeout(d),c(),i(t),delete window[l]},d=setTimeout(u,r.timeout),t+="?callback="+l,o["default"].isObject(n)&&(t+="&"+e.parse(n)),h.setAttribute("src",t),document.head.appendChild(h)})},parse:function(t){var e="";if(o["default"].isObject(t)){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));e=n.join("&").replace(/%20/g,"+")}return e}}},{"./index":48,"./random":49}],48:[function(t,e,n){"use strict";n.__esModule=!0,Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),n["default"]={isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)},isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},isNull:function(t){return null===t},isThenable:function(t){return t&&t.then&&this.isFunction(t.then)},isNode:function(t){return t instanceof Node},isDomNode:function(t){return t instanceof HTMLElement},findDOM:function(t){return this.isDomNode(t)?t:this.isString(t)?document.querySelector(t):null},matches:function(t,e){return t.matches(e)},sanitize:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="";return this.isString(t)&&(n=t.replace(/</gim,"&lt;").replace(/>/gim,"&gt;"),e&&(n=n.replace(/[\n]/g,"<br />"))),n},trim:function(t){return t.replace(/^[\s　]+|[\s　]+$/g,"")},mbSubstr:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";if(this.isString(t))for(var r=0,i=0;r<t.length;r++)if(i+=t.charCodeAt(r)<=255?1:2,i>e)return t.substr(0,i)+n;return t},parseHTML:function(t){var e=document.implementation.createHTMLDocument("doc");if(t.match(/<html(.*?)>/)){var n=null,r=/([^= ]+)(?:=["'](.*?)["'])?/g,i=RegExp.$1;for(e.documentElement.innerHTML=t;null!==(n=r.exec(i));)e.documentElement.setAttribute(n[1],n[2]);return e.documentElement}var o=e.createRange();return o.selectNodeContents(e.documentElement),o.deleteContents(),e.documentElement.appendChild(o.createContextualFragment(t)),e.documentElement.firstChild},parseURI:function(t){for(var e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=n.exec(t||location.href),i={},o=e.length;o--;)i[e[o]]=r[o]||"";return i},query:function(t){return t||(t=location.search?location.search.substring(1):""),t.split("&").reduce(function(t,e){var n=e.split("=");return n[0]&&(t[n[0]]=n[1]),t},{})},nextTick:function(t){setTimeout(t,0)},extend:function(t,e){if(this.isObject(t)&&this.isObject(e)){for(var n in e)e.hasOwnProperty(n)&&(this.isObject(e[n])?t[n]=this.extend({},e[n]):t[n]=e[n]);return t}return t},option:function(t,e){return this.extend(e,t)}}},{}],49:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=Symbol(),s=Symbol(),a=function(){function t(e){if(r(this,t),e!==s)throw"Cannot construct Random";this.seeds=[123456789,362436069,521288629,88675123],this.seeds[2]^=+new Date,this.seeds[2]^=this.seeds[2]>>21,this.seeds[2]^=this.seeds[2]<<35,this.seeds[2]^=this.seeds[2]>>4,this.seeds[2]*=268582165,this.get(),this.get()}return t.prototype.get=function(t,e){var n=this.seeds[0]^this.seeds[0]<<11;this.seeds[0]=this.seeds[1],
this.seeds[1]=this.seeds[2],this.seeds[2]=this.seeds[3];var r=this.seeds[3]=this.seeds[3]^this.seeds[3]>>19^(n^n>>8);return arguments.length>=2?t+r%(e-t+1):r},t.prototype.uid=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0;r<t;r++)n+=e.charAt(this.get(0,e.length-1));return n},i(t,null,[{key:"instance",get:function(){return this[o]||(this[o]=new t(s)),this[o]}}]),t}();n["default"]=a},{}]},{},[37]);