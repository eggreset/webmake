@using MyTool.Enums
@using WabMaker.Web.Helpers
@model WebMaker.Entity.ViewModels.OrderViewModel
@{
    ViewBag.Title = Model.ItemViewModel.ItemLanguage.Subject;
    Layout = "../Shared/_Layout_empty.cshtml";
    var mainImage = Model.ItemViewModel.ItemFiles?.FirstOrDefault(x => x.SourceType == (int)SourceType.ItemConver);
    var imgUrl = mainImage == null ? "" : RouteHelper.SetImagePath(mainImage.FilePath, mainImage.ThumbnailPath);

}
@section meta
{
    <meta property="og:title" content="@ViewBag.Title" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="@RouteHelper.Url(true)" />
    <meta property="og:image" content="@imgUrl" />
    <meta property="og:description" content="@Model.ItemViewModel.ItemLanguage.Description" />
}
@*<h2>@ViewBag.Title</h2>*@

<div class="main-article">
    @Html.Raw(Model.ItemViewModel.ItemLanguage.Content)
</div>

<section class="cart_area">
    <h3 class="text-center main-title">購買方案</h3>
    <div class="container p-0" style="background-color: #f8f4f1;">
        <div id="OneShopTable" class="cart_inner">
            @Html.Partial(WabMaker.Web.Controllers.BaseController.ViewName("Order", "OneShop_Partial"), Model)
        </div>
    </div>

    <div class="mt-5 container pt-3 pb-3  " style="background-color: #f8f4f1;">
        <h3 class="main-title text-center">客服資訊</h3>
        <div class="d-flex justify-content-around service flex-wrap">
            <div class="text-center">
                <h4 class="main-title">【客服電話】</h4>
                <h4 class="main-title">0919-918-060</h4>
                <h4 class="main-title">（週一至週五10:00-12:00、13:30-18:30）</h4>
            </div>
            <div class="text-center">
                <h4 class="main-title">【線上客服】</h4>
                <h4 class="main-title">嚼世好堅FB@官方帳號</h4>
                <h4 class="main-title">（帳號：@@ohmygoodnuts）</h4>
            </div>
        </div>
    </div>
    <div class="fixed-icon">
        <a href="#OneShopTable"><img src="~/html/ohmygoodnuts/img/buy-icon.png" alt=""></a>
        @*<a href="@ApplicationHelper.SiteInfo.Facebook" target="_blank"><img src="~/html/ohmygoodnuts/img/fb-icon.png" alt=""></a>*@
    </div>

    <!-- Your customer chat code -->
    <div class="fb-customerchat"
         attribution=install_email
         page_id="392838991316738"
         theme_color="#9F812C">
    </div>
    
    <div class="text-center contact mt-5">
        <h2>不會訂購嗎？</h2>
        <h4>直接私訊，我們也可以幫你下單！</h4>
        <a href="//m.me/ohmygoodnuts" class="main-title" target="_blank">洽詢客服</a>
    </div>
</section>

@section scripts{
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                xfbml: true,
                version: 'v3.3'
            });
        };

        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/zh_TW/sdk/xfbml.customerchat.js';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <script>
        var SubItemSelectJson = jQuery.parseJSON('@Html.Raw(Model.AddressSelectJson)');

        web.addressEvent();
        web.orderEvent();
    </script>
}
@section css{
 <style>
    .bg-g {
        background-color: #4f6a35;
    }
    .main-article img {
        width: 80%;
        margin: 0 auto;
        display: block;
    }
    .RWD_top-img {
        width: 80%;
        margin: 0 auto;
        display: block;
    }
    .RWD_small-img {
        width: 80%;

        margin: 0 auto;
        display: none;
    }

    .w-h4 {
        color: #fffdff;
        font-weight: bold;
    }

    .main-title {
        color: #4f6a35;
        font-weight: bold;
    }

    .bro-title {
        color: #a15d2c;
        font-weight: bold;
        font-size: 20px;
    }

    .cart_area {
        width: 80%;
        margin: 0 auto;
    }

    strong {
        display: block;
        margin: 10px auto;
        padding: 5px 15px;
        text-align: center;
        background-color: #a15d2c;
        color: #fffdff;
        border-radius: 20px;
        width: 100px;
    }

    em {
        border: 2px solid #a15d2c;
        display: block;
        margin: 10px auto;
        padding: 3px 15px;
        text-align: center;
        color: #a15d2c;
        border-radius: 20px;
        font-style: normal;
        font-weight: bold;
        width: 100px;

    }

    input,
    .p_star input,
    textarea.form-control {
        border-width: 1px;
        border-color: #4f6a35;
        border-radius: 5px;
        background-color: #00000000;
    }

    .buy_btn {
        background-color: #4f6a35;
        font-size: 20px;
        font-weight: bold;
        padding: 20px;
        text-align: center;
        border-radius: 10px;
        color: #fffdff;
    }

    .buy_btn:hover {
        background-color: #fffdff;
        color: #4f6a35;
        border: 1px solid #4f6a35;
    }

    .bottom-maskL {
        position: absolute;
        top: 90px;
        left: -100px;
        width: 100%;
        background-color: #fff;
        height: 100PX;
        transform: rotate(10deg)
    }

    .bottom-maskR {
        position: absolute;
        top: 90px;
        right: -100px;
        width: 100%;
        background-color: #fff;
        height: 100PX;
        transform: rotate(-10deg)
    }

    label {
        color: #a15d2c;
        font-size: 16px;
    }

    input.radio {
        width: 18px;
        height: 18px;
    }

    .service div:first-child {
        border-right: 1px solid #4f6a35;
    }

    .service>div {
        width: 50%;
    }



    .contact h2,
    .contact h4 {
        color: #a15d2c;
        font-weight: bold;
    }

    .contact a {
        border: 2px solid #4f6a35;
        display: inline-block;
        padding: 10px 20px;
        border-radius: 10px;
        font-size: 16px;
        margin-top: 10px;
    }

    .contact a:hover {
        background-color: #4f6a35;
        color: #fffdff;

    }

    .fixed-icon {
        position: fixed;
        right: 30px;
        bottom: 100px;
    }

    .fixed-icon img {
        display: block;
        width: 50px;
        margin-top: 20px;
        transition: all .3s ease;
    }

    .fixed-icon a:hover img {
        transform: scale(1.3);
    }

    @@media screen and (max-width: 1024px) {


        .cart_area {
            padding-top: 50px;
        }

    }

    @@media screen and (max-width: 768px) {
        .RWD_top-img {
            width: 100%;
            display: none;
        }
        .RWD_small-img {
            width: 100%;
            margin-top: 5px;
            display: block;
        }
        .RWD_img{
            width: 100%;
        }

        .cart_area {
            width: 100%;
            padding-top: 0px;
        }

        .service>div {
            margin-top: 20px;
            width: 100%;
        }

        .service div:first-child {
            border-right: none;
        }
    }
</style>
}